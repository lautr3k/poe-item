!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("dot-prop")):"function"==typeof define&&define.amd?define(["exports","dot-prop"],o):o(t.poeItem={},t.dotProp)}(this,function(t,o){o=o&&o.hasOwnProperty("default")?o.default:o;var e=function(){this.locales={},this.locale=null};e.prototype.getLocale=function(){return this.locale},e.prototype.setLocale=function(t){this.locale=t},e.prototype.get=function(t,e){void 0===e&&(e=null),o.get(this.locales,t,e)},e.prototype.set=function(t,e){o.set(this.locales,t,e)},e.prototype.has=function(t){return o.has(this.locales,t)},e.prototype.delete=function(t){o.delete(this.locales,t)},e.prototype.localeKey=function(t,o){return void 0===o&&(o=null),(o||this.locale)+"."+t},e.prototype.__=function(t,e){void 0===e&&(e={});var n=this.localeKey(t);return function(t,o){var e;return Object.keys(o).forEach(function(n){t=t.replace(e="{{"+n+"}}",o[n]||e)}),t}(o.get(this.locales,n,n),e)};var n=new e,r=function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];return n.__.apply(n,t)},i=function(t){this.raw=(t||"").trim()};i.prototype.match=function(t,o){return void 0===o&&(o="gmi"),this.raw.match(new RegExp(t,o))||null},i.prototype.matchLine=function(t,o){return void 0===o&&(o="gmi"),this.match("^"+t+"$",o)},i.prototype.matchAll=function(t,o){void 0===o&&(o="gmi");var e=this.raw.matchAll(new RegExp(t,o));return e?[].concat(e):null},i.prototype.prop=function(t){var o=r(t),e=this.matchLine(o+" *([^:]+)?: *(.+)","mi");return e?{label:o,usLabel:t,labelExtra:e[1],value:e[2]}:null},i.prototype.toString=function(){return this.raw};var u=function(t){function o(){t.apply(this,arguments)}return t&&(o.__proto__=t),(o.prototype=Object.create(t&&t.prototype)).constructor=o,o}(i),s=function(t){function o(o){t.call(this,o),this.lines=this.raw.split(/\r?\n/).map(function(t){return new u(t)})}return t&&(o.__proto__=t),(o.prototype=Object.create(t&&t.prototype)).constructor=o,o.prototype.line=function(t){return this.lines[t-1]||new u},o}(i),l=function(t){function o(o){t.call(this,o),this.blocks=this.raw.split(/\r?\n--------\r?\n/).map(function(t){return new s(t)})}return t&&(o.__proto__=t),(o.prototype=Object.create(t&&t.prototype)).constructor=o,o.prototype.block=function(t){return this.blocks[t-1]||new s},o}(i),p=function(){};n.set("us",{Rarity:"Rarity"}),n.set("fr",{Rarity:"Raret√©"});var c=function(){this.__=r,this.i18n=n,this.modules={},this.modulesQueue=[],this.modulesDone=[],this.blocks=null,this.item=null,this.setup(""),this.init()};c.prototype.init=function(){throw new Error("You have to implement the method!")},c.prototype.parse=function(){throw new Error("You have to implement the method!")},c.prototype.setup=function(t){this.blocks=new l(t),this.item=new p,this.modulesDone=[]},c.prototype.bindModule=function(t,o){this.modulesQueue.push(t),this.modules[t]=o.bind(this)},c.prototype.runModule=function(t){if(this.modulesDone.includes(t))throw new Error("A module can only be run once: "+t+")");this.modulesDone.push(t),this.modules[t]()},c.prototype.runAllModules=function(){var t=this;this.modulesQueue.forEach(function(o){return t.runModule(o)})},t.ItemParser=function(t){function o(){t.apply(this,arguments)}return t&&(o.__proto__=t),(o.prototype=Object.create(t&&t.prototype)).constructor=o,o.prototype.init=function(){console.log("init...")},o.prototype.parse=function(t){return this.setup(t),this.runAllModules(),console.log(this.blocks.prop("Rarity")),this.item},o}(c),t.i18n=n,t.__=r});
//# sourceMappingURL=poe-item.umd.js.map
